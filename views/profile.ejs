<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"/>
    <title>Document</title>
</head>
<body >
    <header class="head"><h1>Profile @<%= ProfileId.Username %></h1></header>
    <br>    
    <main>
        <div class="main">
        <button  class="Post btn btn-info">Create Post</button>
        <button class="BC btn btn-outline-info">Random jokes</button>
        <form method="post"  action="/login/home/<%=ProfileId._id%>"  >
        </form>
        </div>

    </main>
    
           
        
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.7/axios.min.js" integrity="sha512-NQfB/bDaB8kaSXF8E77JjhHG5PM6XVRxvHzkZiwl3ddWCEPBa23T76MuWSwAJdMGJnmQqM0VeY9kFszsrBEFrQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    let body=document.querySelector("body");
    let btn=document.querySelector(".Post");

    let form=document.querySelector("form");
    let text=document.createElement("textarea");
    text.name="textMsg";
    text.style.height="400px";
    text.style.width="600px";
    let btntwo=document.createElement("Button");
    
    let Jokbtn=document.querySelector(".BC");
    btntwo.textContent="POST"
    let b=document.createElement("br");
    let br=text.b;
    btn.addEventListener("click",()=>{
        form.appendChild(text);
        form.appendChild(b);
        form.appendChild(btntwo);
       body.appendChild(form);
    });
    Jokbtn.addEventListener("click",async()=>{
        
       let fact=await getfact();
       text.innerText=("setup -"+fact.data.setup +", \r\n delivery -"+fact.data.delivery);

    //    fact.data.delivery   
    })
    let url="https://v2.jokeapi.dev/joke/Any?safe-mode";
    async function getfact(){
        try{
            let res=await axios.get(url);
            return (res);  
        }catch(e){
            console.log("error -",e);
            return "no fact";
        }
    }
</script>
<style>
    body{
        padding: 20px;
       
        text-align: center;
    }
    form{
        margin-top: 20px;
        
    }
    textarea{
        border-radius: 20px;
    }

</style>
</html>